<main class="m-10 mb-0">
  <div class="w-full flex flex-row justify-end items-center">
    <div class="w-auto pe-2 pb-4">
      <p-select [options]="conexiones" [(ngModel)]="conexionSeleccionada" optionLabel="name"
        placeholder="Selecciona una conexion" class="w-full md:w-full" (onChange)="loadPozosData()" />
    </div>
    <div class="w-full ps-2 pb-4 flex justify-end items-center">
      <p-datepicker class="px-2" [(ngModel)]="date" [dateFormat]="tipoReporte === 'mensual' ? 'yy/mm' : 'yy/mm/dd'"
        [placeholder]="tipoReporte === 'mensual' ? 'Seleccione mes y aÃ±o' : 'Seleccione una fecha'" [view]="viewMode"
        [showIcon]="true" />
      <p-button label="Generar reporte" [icon]="'pi pi-file-excel'" [disabled]="isGenerarReporteDisabled()"
        [loading]="loadingReporte()" (click)="generearReporte()"></p-button>
    </div>
  </div>
  <p-table [value]="pozosData" [(selection)]="pozosSeleccionados" dataKey="IdPozo" [scrollable]="true"
    scrollHeight="500px" [paginator]="true" [rows]="10" [tableStyle]="{ 'min-width': '100%' }"
    [rowsPerPageOptions]="[5, 10, 20]" [loading]="loading" showGridlines stripedRows>
    <ng-template #header>
      <tr>
        <th class="w-auto">Num.</th>
        <th class="w-full">Nombre del pozo</th>
        <th class="w-auto flex flex-col text-center justify-center items-center">Todos ({{pozosData.length}})
          <p-tableHeaderCheckbox />
        </th>
      </tr>
    </ng-template>
    <ng-template #body let-pozosData let-index="rowIndex">
      <tr>
        <td class="text-center flex flex-col justify-center items-center">{{ index + 1 }}</td>
        <td>{{ pozosData.NombrePozo }}</td>
        <td class="flex text-center justify-center items-center">
          <p-tableCheckbox [value]="pozosData" />
        </td>
      </tr>
    </ng-template>
  </p-table>
  <p-toast position="top-center" />
</main>